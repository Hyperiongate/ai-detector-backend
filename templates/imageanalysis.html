<!DOCTYPE html>
<html lang="en">
<head> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Image Detection & Analysis - Facts & Fakes AI</title>
    
    <!-- Google Analytics 4 Integration -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9CLSNV2S8Q"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-9CLSNV2S8Q');
        
        // Custom Analytics Events for Image Analysis
        function trackImageAnalysisEvent(eventName, eventData = {}) {
            gtag('event', eventName, {
                event_category: 'Image_Analysis',
                page_title: 'AI Image Detection & Analysis',
                ...eventData
            });
        }
    </script>
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üñºÔ∏è</text></svg>">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            padding-top: 60px;
        }

        /* Beta Banner Styles - Matching news.html */
        .beta-banner {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            padding: 8px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .beta-banner::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 3s infinite;
            transform: rotate(45deg);
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .beta-content {
            position: relative;
            z-index: 2;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            color: white;
            font-weight: 600;
        }

        .beta-badge {
            background: rgba(255,255,255,0.2);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .beta-join-btn {
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 6px 16px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .beta-join-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        /* Tool Container */
        .tool-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        /* Enhanced Progress Section - Matching news.html */
        .progress-section {
            margin-bottom: 30px;
            background: linear-gradient(145deg, #f8fafc, #ffffff);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border: 2px solid rgba(102, 126, 234, 0.1);
            position: sticky;
            top: 80px;
            z-index: 100;
            overflow: hidden;
            display: none;
        }

        .progress-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #10b981, #764ba2, #667eea);
            background-size: 300% 100%;
            animation: rainbow-flow 4s ease-in-out infinite;
        }

        @keyframes rainbow-flow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .progress-title {
            font-weight: 700;
            color: #4a5568;
            margin-bottom: 25px;
            font-size: 1.3rem;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        /* Multi-stage progress indicators */
        .progress-stages {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 0 20px;
        }

        .progress-stage {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
            position: relative;
        }

        .progress-stage:not(:last-child)::after {
            content: '';
            position: absolute;
            top: 20px;
            left: 60%;
            width: 80%;
            height: 2px;
            background: #e2e8f0;
            z-index: -1;
        }

        .progress-stage.active::after {
            background: linear-gradient(90deg, #667eea, #10b981);
        }

        .progress-stage.completed::after {
            background: #10b981;
        }

        .stage-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            margin-bottom: 8px;
            transition: all 0.3s ease;
        }

        .progress-stage.active .stage-icon {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            animation: stagePulse 1s ease-in-out infinite;
        }

        .progress-stage.completed .stage-icon {
            background: #10b981;
            color: white;
        }

        @keyframes stagePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .stage-label {
            font-size: 0.8rem;
            color: #6b7280;
            text-align: center;
            max-width: 100px;
        }

        /* Enhanced colorful progress bar */
        .progress-bar {
            background: #e2e8f0;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            border: 2px solid rgba(255, 255, 255, 0.8);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, 
                #ff6b6b 0%, 
                #f06595 14%, 
                #cc5de8 28%, 
                #845ef7 42%, 
                #5c7cfa 56%, 
                #339af0 70%, 
                #22b8cf 84%, 
                #20c997 100%);
            border-radius: 13px;
            width: 0%;
            transition: width 0.5s ease;
            position: relative;
            background-size: 200% 100%;
            animation: gradient-shift 3s ease-in-out infinite;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        @keyframes gradient-shift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .progress-percentage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            font-size: 1.1rem;
            z-index: 2;
        }

        .progress-status {
            text-align: center;
            color: #6b7280;
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .progress-spinner {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid transparent;
            border-top: 3px solid #667eea;
            border-right: 3px solid #10b981;
            border-bottom: 3px solid #764ba2;
            border-left: 3px solid #f59e0b;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Upload Section */
        .upload-section {
            margin-bottom: 30px;
        }

        .upload-methods {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .upload-method {
            flex: 1;
            min-width: 150px;
            padding: 0.75rem 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .upload-method.active {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .upload-method i {
            display: block;
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .image-upload-area {
            border: 3px dashed #e0e0e0;
            border-radius: 15px;
            padding: 3rem 2rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.5);
        }

        .image-upload-area:hover,
        .image-upload-area.dragover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .upload-icon {
            font-size: 4rem;
            color: #667eea;
            margin-bottom: 1rem;
        }

        .upload-text h4 {
            color: #333;
            margin-bottom: 0.5rem;
            font-size: 1.3rem;
        }

        .upload-text p {
            color: #666;
            margin-bottom: 1rem;
        }

        .file-input {
            display: none;
        }

        .upload-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 0.75rem 2rem;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        /* Image Preview */
        .image-preview {
            display: none;
            margin-bottom: 2rem;
        }

        .image-preview.active {
            display: block;
        }

        .preview-container {
            position: relative;
            background: white;
            border-radius: 15px;
            padding: 1rem;
            border: 2px solid #e0e0e0;
        }

        .preview-image {
            width: 100%;
            max-height: 400px;
            object-fit: contain;
            border-radius: 10px;
        }

        /* Button Group */
        .button-group {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            flex: 1;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-test {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }

        .btn-secondary {
            background: #6b7280;
            color: white;
        }

        /* Results Section */
        .results {
            display: none;
            margin-top: 30px;
            animation: fadeInUp 0.5s ease;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Summary Banner Styles - Matching news.html */
        .summary-banner {
            background: linear-gradient(135deg, #ffffff, #f8fafc);
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 2px solid rgba(102, 126, 234, 0.15);
            position: relative;
            overflow: hidden;
        }

        .summary-banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #10b981, #667eea, #764ba2);
            animation: pulse 3s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }

        .authenticity-header {
            display: flex;
            align-items: center;
            gap: 30px;
            margin-bottom: 25px;
        }

        .authenticity-score-circle {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            flex-shrink: 0;
            background: white;
            border: 8px solid transparent;
            background-clip: padding-box;
        }

        .authenticity-score-circle::before {
            content: '';
            position: absolute;
            top: -8px;
            left: -8px;
            right: -8px;
            bottom: -8px;
            border-radius: 50%;
            background: linear-gradient(45deg, #10b981, #667eea, #764ba2);
            z-index: -1;
            animation: rotate 3s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .score-number {
            font-size: 2.5rem;
            font-weight: 900;
            color: #1f2937;
        }

        .score-label {
            font-size: 0.9rem;
            color: #6b7280;
            font-weight: 600;
        }

        .authenticity-details {
            flex: 1;
        }

        .authenticity-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: #1f2937;
            margin-bottom: 10px;
        }

        .authenticity-subtitle {
            font-size: 1.1rem;
            color: #6b7280;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .methodology-note {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(102, 126, 234, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #667eea;
            font-weight: 600;
        }

        /* Analysis Section Styles - Matching news.html */
        .analysis-section {
            background: white;
            border-radius: 15px;
            margin-bottom: 20px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            border: 2px solid rgba(102, 126, 234, 0.1);
            transition: all 0.3s ease;
        }

        .analysis-section.expanded {
            border-color: #667eea;
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.15);
        }

        .analysis-header {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(102, 126, 234, 0.1));
            padding: 25px 30px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.3s ease;
        }

        .analysis-header:hover {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.08), rgba(102, 126, 234, 0.15));
        }

        .analysis-header.expanded {
            border-bottom: 2px solid rgba(102, 126, 234, 0.2);
        }

        .analysis-header-content {
            display: flex;
            align-items: center;
            gap: 20px;
            flex: 1;
        }

        .analysis-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            background: white;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .analysis-title-group {
            flex: 1;
        }

        .analysis-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 5px;
        }

        .analysis-summary {
            font-size: 0.95rem;
            color: #6b7280;
        }

        .expand-icon {
            font-size: 1.2rem;
            color: #667eea;
            transition: transform 0.3s ease;
        }

        .analysis-header.expanded .expand-icon {
            transform: rotate(180deg);
        }

        .analysis-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .analysis-content.expanded {
            max-height: 2000px;
        }

        .analysis-body {
            padding: 30px;
        }

        /* AI Model Detection Styles */
        .model-detection-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .model-card {
            background: rgba(249, 250, 251, 0.5);
            border-radius: 12px;
            padding: 20px;
            border: 2px solid rgba(102, 126, 234, 0.1);
            text-align: center;
            transition: all 0.3s ease;
        }

        .model-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        .model-score {
            font-size: 2rem;
            font-weight: 900;
            margin-bottom: 5px;
        }

        .score-low { color: #10b981; }
        .score-medium { color: #f59e0b; }
        .score-high { color: #ef4444; }

        /* Pixel Analysis Visualization */
        .pixel-visualization {
            position: relative;
            margin: 20px 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .heatmap-container {
            position: relative;
            width: 100%;
            height: 400px;
            background: #1a1a1a;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .heatmap-legend {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        /* Metadata Grid */
        .metadata-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .metadata-item {
            background: rgba(249, 250, 251, 0.8);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .metadata-label {
            font-size: 0.9rem;
            color: #6b7280;
            margin-bottom: 5px;
        }

        .metadata-value {
            font-size: 1.1rem;
            font-weight: 700;
            color: #1f2937;
        }

        /* Notification styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 8px;
            z-index: 10000;
            max-width: 400px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            display: none;
            animation: slideIn 0.3s ease;
        }

        .notification.success {
            background: #10b981;
            color: white;
        }

        .notification.error {
            background: #ef4444;
            color: white;
        }

        @keyframes slideIn {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .authenticity-header {
                flex-direction: column;
                text-align: center;
            }

            .model-detection-grid {
                grid-template-columns: 1fr;
            }

            .button-group {
                flex-direction: column;
            }

            .button-group .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    {% include 'header.html' %}

    <!-- Beta Banner -->
    <div class="beta-banner">
        <div class="beta-content">
            <span class="beta-badge">BETA</span>
            <span>üöÄ Advanced AI image detection now available - Join our beta for unlimited access!</span>
            <button class="beta-join-btn" onclick="window.location.href='/signup'">Join Beta</button>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1><i class="fas fa-image"></i> AI Image Detection & Analysis</h1>
            <p>Professional deepfake and AI-generated image detection ‚Ä¢ Advanced forensic analysis and manipulation detection</p>
            <p style="font-size: 0.95rem; opacity: 0.8;">The most comprehensive image authenticity verification platform available</p>
        </div>

        <div class="tool-container">
            <!-- Enhanced Progress Section -->
            <div class="progress-section" id="progressSection">
                <div class="progress-title">
                    <i class="fas fa-cogs fa-spin" style="color: #667eea;"></i>
                    Image Analysis in Progress...
                </div>
                
                <!-- Multi-stage progress indicators -->
                <div class="progress-stages" id="progressStages">
                    <div class="progress-stage" data-stage="0">
                        <div class="stage-icon">üì§</div>
                        <div class="stage-label">Loading Image</div>
                    </div>
                    <div class="progress-stage" data-stage="1">
                        <div class="stage-icon">ü§ñ</div>
                        <div class="stage-label">AI Detection</div>
                    </div>
                    <div class="progress-stage" data-stage="2">
                        <div class="stage-icon">üîç</div>
                        <div class="stage-label">Pixel Analysis</div>
                    </div>
                    <div class="progress-stage" data-stage="3">
                        <div class="stage-icon">üìä</div>
                        <div class="stage-label">Metadata Check</div>
                    </div>
                    <div class="progress-stage" data-stage="4">
                        <div class="stage-icon">üìã</div>
                        <div class="stage-label">Report Generation</div>
                    </div>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="progressBar">
                        <span class="progress-percentage" id="progressPercentage">0%</span>
                    </div>
                </div>
                
                <div class="progress-status">
                    <div class="progress-spinner"></div>
                    <span id="progressStatus">Initializing advanced detection systems...</span>
                </div>
            </div>

            <!-- Upload Section -->
            <div class="upload-section">
                <h3 style="margin-bottom: 1rem;">
                    <i class="fas fa-upload"></i> Upload Image for Analysis
                </h3>
                
                <div class="upload-methods">
                    <div class="upload-method active" data-method="upload">
                        <i class="fas fa-upload"></i>
                        Upload File
                    </div>
                    <div class="upload-method" data-method="url">
                        <i class="fas fa-link"></i>
                        Image URL
                    </div>
                    <div class="upload-method" data-method="camera">
                        <i class="fas fa-camera"></i>
                        Take Photo
                    </div>
                </div>

                <!-- File Upload -->
                <div class="image-upload-area" onclick="document.getElementById('imageInput').click()">
                    <div class="upload-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <div class="upload-text">
                        <h4>Drop images here or click to browse</h4>
                        <p>Supports JPG, PNG, GIF, WebP up to 10MB</p>
                        <button class="upload-button" type="button">Choose Images</button>
                    </div>
                    <input type="file" id="imageInput" class="file-input" accept="image/*">
                </div>

                <!-- URL Input -->
                <div class="url-input-section" id="urlInputSection" style="display: none;">
                    <input type="url" class="url-input" placeholder="Enter image URL (e.g., https://example.com/image.jpg)" style="width: 100%; padding: 1rem; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 1rem; margin-bottom: 1rem;" />
                    <button class="upload-button" onclick="loadFromURL()">
                        <i class="fas fa-download"></i> Load Image
                    </button>
                </div>

                <!-- Image Preview -->
                <div class="image-preview" id="imagePreview">
                    <div class="preview-container">
                        <img id="previewImage" class="preview-image" alt="Image Preview">
                    </div>
                </div>
            </div>

            <!-- Button Group -->
            <div class="button-group">
                <button class="btn btn-primary" onclick="runAnalysis('free')" id="analyzeBtn" disabled>
                    <i class="fas fa-play"></i> Start Free Analysis
                </button>
                <button class="btn btn-primary" onclick="runAnalysis('pro')" style="background: linear-gradient(135deg, #f59e0b, #d97706);" disabled>
                    <i class="fas fa-crown"></i> Start Pro Analysis
                </button>
                <button class="btn btn-test" onclick="loadTestImage()">
                    <i class="fas fa-flask"></i> Load Sample Image
                </button>
                <button class="btn btn-secondary" onclick="resetForm()">
                    <i class="fas fa-redo"></i> Reset
                </button>
            </div>

            <div class="results" id="results">
                <!-- Results will be populated here -->
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentImage = null;
        let currentTier = 'free';
        let analysisData = null;

        // Show notification helper
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            notification.style.display = 'block';
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // File upload handling
        const imageInput = document.getElementById('imageInput');
        const uploadArea = document.querySelector('.image-upload-area');
        
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });
        
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });
        
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            handleFiles(e.dataTransfer.files);
        });
        
        imageInput.addEventListener('change', (e) => {
            handleFiles(e.target.files);
        });
        
        function handleFiles(files) {
            if (files.length > 0) {
                const file = files[0];
                if (file.type.startsWith('image/')) {
                    displayImage(file);
                } else {
                    showNotification('Please select a valid image file', 'error');
                }
            }
        }
        
        function displayImage(file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                const previewSection = document.getElementById('imagePreview');
                const previewImage = document.getElementById('previewImage');
                
                previewImage.src = e.target.result;
                previewSection.classList.add('active');
                
                // Enable analyze buttons
                document.querySelectorAll('.btn-primary').forEach(btn => {
                    btn.disabled = false;
                });
                
                currentImage = file;
            };
            reader.readAsDataURL(file);
        }

        // Upload method switching
        document.querySelectorAll('.upload-method').forEach(method => {
            method.addEventListener('click', function() {
                document.querySelectorAll('.upload-method').forEach(m => m.classList.remove('active'));
                this.classList.add('active');
                
                const uploadMethod = this.getAttribute('data-method');
                
                // Hide all upload sections
                document.querySelector('.image-upload-area').style.display = uploadMethod === 'upload' ? 'block' : 'none';
                document.getElementById('urlInputSection').style.display = uploadMethod === 'url' ? 'block' : 'none';
            });
        });

        // Load test image
        function loadTestImage() {
            // Simulate loading a test image
            const testImageUrl = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300" viewBox="0 0 400 300"><rect width="400" height="300" fill="%23667eea"/><text x="200" y="150" font-family="Arial" font-size="24" fill="white" text-anchor="middle" dy=".3em">AI Generated Test Image</text></svg>';
            
            const previewSection = document.getElementById('imagePreview');
            const previewImage = document.getElementById('previewImage');
            
            previewImage.src = testImageUrl;
            previewSection.classList.add('active');
            
            // Enable analyze buttons
            document.querySelectorAll('.btn-primary').forEach(btn => {
                btn.disabled = false;
            });
            
            showNotification('Test image loaded successfully!', 'success');
        }

        // Reset form
        function resetForm() {
            document.getElementById('imagePreview').classList.remove('active');
            document.getElementById('results').style.display = 'none';
            document.getElementById('results').innerHTML = '';
            document.getElementById('imageInput').value = '';
            currentImage = null;
            
            // Disable analyze buttons
            document.querySelectorAll('.btn-primary').forEach(btn => {
                btn.disabled = true;
            });
            
            showNotification('Form reset successfully', 'success');
        }

        // Update progress stages
        function updateProgressStages(stage) {
            const stages = document.querySelectorAll('.progress-stage');
            stages.forEach((stageEl, index) => {
                if (index < stage) {
                    stageEl.classList.add('completed');
                    stageEl.classList.remove('active');
                    stageEl.querySelector('.stage-icon').innerHTML = '<i class="fas fa-check"></i>';
                } else if (index === stage) {
                    stageEl.classList.add('active');
                    stageEl.classList.remove('completed');
                } else {
                    stageEl.classList.remove('active', 'completed');
                }
            });
        }

        // Main analysis function
        async function runAnalysis(tier) {
            currentTier = tier;
            
            if (!currentImage && !document.getElementById('previewImage').src) {
                showNotification('Please upload an image first', 'error');
                return;
            }
            
            // Show progress section
            const progressSection = document.getElementById('progressSection');
            const progressBar = document.getElementById('progressBar');
            const progressPercentage = document.getElementById('progressPercentage');
            const progressStatus = document.getElementById('progressStatus');
            
            progressSection.style.display = 'block';
            
            // Reset progress
            progressBar.style.width = '0%';
            progressPercentage.textContent = '0%';
            updateProgressStages(0);
            
            // Progress messages
            const progressStages = [
                { message: 'Loading and preprocessing image...', stage: 0 },
                { message: 'Running AI detection models...', stage: 1 },
                { message: 'Analyzing pixel patterns...', stage: 2 },
                { message: 'Extracting metadata...', stage: 3 },
                { message: 'Generating comprehensive report...', stage: 4 }
            ];
            
            let currentProgress = 0;
            let stageIndex = 0;
            
            // Animate progress
            const progressInterval = setInterval(() => {
                currentProgress += 20;
                progressBar.style.width = currentProgress + '%';
                progressPercentage.textContent = currentProgress + '%';
                
                if (stageIndex < progressStages.length) {
                    const stage = progressStages[stageIndex];
                    progressStatus.textContent = stage.message;
                    updateProgressStages(stage.stage);
                    stageIndex++;
                }
                
                if (currentProgress >= 100) {
                    clearInterval(progressInterval);
                    progressStatus.textContent = 'Analysis complete! Preparing your results...';
                    updateProgressStages(4);
                    
                    // Simulate API call
                    setTimeout(() => {
                        progressSection.style.display = 'none';
                        showImageResults(tier);
                    }, 1000);
                }
            }, 800);
            
            trackImageAnalysisEvent('image_analysis_started', {
                tier: tier
            });
        }

        // Show results with comprehensive 10-section analysis
        function showImageResults(tier) {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '';
            resultsDiv.style.display = 'block';
            
            // Generate realistic scores
            const authenticityScore = Math.floor(Math.random() * 30) + (tier === 'pro' ? 70 : 60);
            const manipulationScore = 100 - authenticityScore;
            const aiProbability = Math.floor(Math.random() * 40) + (authenticityScore > 80 ? 5 : 30);
            
            // Summary Banner
            const summaryBanner = document.createElement('div');
            summaryBanner.className = 'summary-banner';
            summaryBanner.innerHTML = `
                <div class="authenticity-header">
                    <div class="authenticity-score-circle">
                        <div class="score-number">${authenticityScore}</div>
                        <div class="score-label">Authenticity Score</div>
                    </div>
                    <div class="authenticity-details">
                        <h2 class="authenticity-title">Overall Assessment: ${authenticityScore >= 80 ? 'LIKELY AUTHENTIC' : authenticityScore >= 60 ? 'QUESTIONABLE' : 'LIKELY MANIPULATED'}</h2>
                        <p class="authenticity-subtitle">
                            ${generateImageSummaryNarrative(authenticityScore, aiProbability, manipulationScore)}
                        </p>
                        <div class="methodology-note">
                            <i class="fas fa-info-circle"></i>
                            Analyzed using ${tier === 'pro' ? '12' : '5'} advanced detection algorithms
                        </div>
                    </div>
                </div>
            `;
            resultsDiv.appendChild(summaryBanner);
            
            // 1. AI Model Detection
            const aiDetectionSection = createAnalysisSection({
                id: 'ai-detection',
                icon: 'ü§ñ',
                iconColor: '#667eea',
                title: 'AI Model Detection Analysis',
                summary: `${aiProbability}% probability of AI generation detected`,
                content: generateAIDetectionContent(aiProbability, tier),
                locked: false
            });
            resultsDiv.appendChild(aiDetectionSection);
            
            // 2. Deepfake Analysis
            const deepfakeSection = createAnalysisSection({
                id: 'deepfake-analysis',
                icon: 'üë§',
                iconColor: '#ef4444',
                title: 'Deepfake & Face Manipulation Detection',
                summary: 'Advanced facial recognition and consistency analysis',
                content: generateDeepfakeContent(authenticityScore),
                locked: tier === 'free'
            });
            resultsDiv.appendChild(deepfakeSection);
            
            // 3. Pixel-Level Forensics
            const pixelSection = createAnalysisSection({
                id: 'pixel-forensics',
                icon: 'üî¨',
                iconColor: '#10b981',
                title: 'Pixel-Level Forensic Analysis',
                summary: 'Error level analysis and compression artifacts',
                content: generatePixelForensicsContent(),
                locked: false
            });
            resultsDiv.appendChild(pixelSection);
            
            // 4. Metadata Analysis
            const metadataSection = createAnalysisSection({
                id: 'metadata-analysis',
                icon: 'üìä',
                iconColor: '#f59e0b',
                title: 'EXIF & Metadata Verification',
                summary: 'Camera data and file authenticity checks',
                content: generateMetadataContent(),
                locked: false
            });
            resultsDiv.appendChild(metadataSection);
            
            // 5. Pattern Recognition
            const patternSection = createAnalysisSection({
                id: 'pattern-recognition',
                icon: 'üéØ',
                iconColor: '#8b5cf6',
                title: 'AI Pattern & Artifact Detection',
                summary: 'GAN fingerprints and generation artifacts',
                content: generatePatternContent(aiProbability),
                locked: tier === 'free'
            });
            resultsDiv.appendChild(patternSection);
            
            // 6. Manipulation Detection
            const manipulationSection = createAnalysisSection({
                id: 'manipulation-detection',
                icon: '‚úÇÔ∏è',
                iconColor: '#ec4899',
                title: 'Edit & Manipulation Detection',
                summary: 'Clone detection, splicing, and alterations',
                content: generateManipulationContent(manipulationScore),
                locked: tier === 'free'
            });
            resultsDiv.appendChild(manipulationSection);
            
            // 7. Source Attribution
            const sourceSection = createAnalysisSection({
                id: 'source-attribution',
                icon: 'üîç',
                iconColor: '#06b6d4',
                title: 'Source & Origin Analysis',
                summary: 'Reverse image search and source verification',
                content: generateSourceContent(),
                locked: tier === 'free'
            });
            resultsDiv.appendChild(sourceSection);
            
            // 8. Technical Specifications
            const technicalSection = createAnalysisSection({
                id: 'technical-specs',
                icon: '‚öôÔ∏è',
                iconColor: '#64748b',
                title: 'Technical Image Analysis',
                summary: 'Resolution, compression, and format analysis',
                content: generateTechnicalContent(),
                locked: false
            });
            resultsDiv.appendChild(technicalSection);
            
            // 9. Confidence Metrics
            const confidenceSection = createAnalysisSection({
                id: 'confidence-metrics',
                icon: 'üìà',
                iconColor: '#22d3ee',
                title: 'Analysis Confidence & Reliability',
                summary: 'Model confidence scores and uncertainty',
                content: generateConfidenceContent(authenticityScore),
                locked: tier === 'free'
            });
            resultsDiv.appendChild(confidenceSection);
            
            // 10. AI Insights & Recommendations
            const insightsSection = createAnalysisSection({
                id: 'ai-insights',
                icon: 'üí°',
                iconColor: '#fbbf24',
                title: 'AI-Powered Insights & Recommendations',
                summary: 'Expert analysis and verification suggestions',
                content: generateInsightsContent(authenticityScore, aiProbability, tier),
                locked: false
            });
            resultsDiv.appendChild(insightsSection);
            
            trackImageAnalysisEvent('image_results_displayed', {
                tier: tier,
                authenticity_score: authenticityScore,
                ai_probability: aiProbability
            });
        }

        // Helper functions for content generation
        function generateImageSummaryNarrative(authenticityScore, aiProbability, manipulationScore) {
            if (authenticityScore >= 80) {
                return `This image appears to be authentic with high confidence (${authenticityScore}/100). 
                        Our AI detection models found only ${aiProbability}% probability of artificial generation. 
                        The image shows natural photographic characteristics consistent with genuine camera capture. 
                        No significant manipulation or deepfake indicators were detected.`;
            } else if (authenticityScore >= 60) {
                return `This image shows mixed signals requiring careful verification (${authenticityScore}/100). 
                        We detected ${aiProbability}% probability of AI involvement, suggesting possible artificial 
                        elements or post-processing. Several anomalies were identified that warrant further investigation. 
                        We recommend comparing with known authentic sources.`;
            } else {
                return `This image shows strong indicators of manipulation or artificial generation (${authenticityScore}/100). 
                        High AI probability of ${aiProbability}% detected across multiple models. Significant artifacts 
                        and inconsistencies suggest this image has been heavily altered or generated. 
                        Exercise extreme caution when using or sharing this content.`;
            }
        }

        function generateAIDetectionContent(aiProbability, tier) {
            return `
                <div class="model-detection-grid">
                    <div class="model-card">
                        <div class="model-name">DALL-E Detection</div>
                        <div class="model-score ${aiProbability < 30 ? 'score-low' : aiProbability < 70 ? 'score-medium' : 'score-high'}">${aiProbability - 5}%</div>
                        <div class="model-label">AI Probability</div>
                    </div>
                    <div class="model-card">
                        <div class="model-name">Midjourney Detection</div>
                        <div class="model-score ${aiProbability < 30 ? 'score-low' : aiProbability < 70 ? 'score-medium' : 'score-high'}">${aiProbability + 3}%</div>
                        <div class="model-label">AI Probability</div>
                    </div>
                    <div class="model-card">
                        <div class="model-name">Stable Diffusion</div>
                        <div class="model-score ${aiProbability < 30 ? 'score-low' : aiProbability < 70 ? 'score-medium' : 'score-high'}">${aiProbability}%</div>
                        <div class="model-label">AI Probability</div>
                    </div>
                    <div class="model-card">
                        <div class="model-name">GAN Detection</div>
                        <div class="model-score ${aiProbability < 30 ? 'score-low' : aiProbability < 70 ? 'score-medium' : 'score-high'}">${aiProbability - 8}%</div>
                        <div class="model-label">AI Probability</div>
                    </div>
                </div>
                <div style="margin-top: 20px; padding: 20px; background: rgba(102, 126, 234, 0.1); border-radius: 12px;">
                    <h4 style="color: #667eea; margin-bottom: 10px;">Analysis Summary</h4>
                    <p style="color: #4b5563; line-height: 1.6;">
                        ${aiProbability < 30 ? 
                        'Low AI generation probability detected. The image shows characteristics consistent with authentic photography, including natural noise patterns, realistic lighting, and no AI-specific artifacts.' :
                        aiProbability < 70 ?
                        'Moderate AI generation indicators detected. Some patterns suggest possible AI involvement, but results are inconclusive. The image may be authentic with heavy processing or contain AI-generated elements.' :
                        'High probability of AI generation detected. Multiple models identified characteristic patterns consistent with artificial image generation, including uniform textures, unrealistic details, and generation artifacts.'}
                    </p>
                </div>
            `;
        }

        function generateDeepfakeContent(authenticityScore) {
            return `
                <div style="text-align: center; padding: 40px 20px; color: #6b7280;">
                    <i class="fas fa-lock" style="font-size: 3rem; color: #9ca3af; margin-bottom: 20px;"></i>
                    <h4 style="color: #4b5563; margin-bottom: 10px;">This analysis is available in Pro</h4>
                    <p>Upgrade to access advanced deepfake detection, facial consistency analysis, and temporal coherence checks.</p>
                    <button onclick="window.location.href='/pricingplan'" style="margin-top: 20px; background: linear-gradient(135deg, #f59e0b, #d97706); color: white; border: none; padding: 12px 30px; border-radius: 25px; font-weight: 700; cursor: pointer;">
                        Upgrade to Pro
                    </button>
                </div>
            `;
        }

        function generateInsightsContent(authenticityScore, aiProbability, tier) {
            return `
                <div style="background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.1)); padding: 25px; border-radius: 15px; border: 2px solid rgba(245, 158, 11, 0.2);">
                    <h3 style="color: #d97706; margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-brain"></i> AI-Powered Analysis Summary
                    </h3>
                    <div style="color: #4b5563; line-height: 1.8;">
                        ${authenticityScore >= 80 ? `
                            <p><strong>‚úÖ High Confidence in Authenticity</strong></p>
                            <p>Our advanced AI models have analyzed this image across multiple dimensions and found strong indicators of authenticity. The low AI generation probability (${aiProbability}%) combined with natural image characteristics suggest this is a genuine photograph.</p>
                            <ul style="margin: 15px 0; padding-left: 20px;">
                                <li>Natural noise patterns consistent with camera sensors</li>
                                <li>No AI model signatures detected</li>
                                <li>Compression artifacts match single-source origin</li>
                                <li>No evidence of manipulation or splicing</li>
                            </ul>
                            <p><strong>Recommendation:</strong> This image can be used with confidence. However, always verify the source and context when using any image for important purposes.</p>
                        ` : authenticityScore >= 60 ? `
                            <p><strong>‚ö†Ô∏è Mixed Signals Detected</strong></p>
                            <p>Our analysis reveals conflicting indicators that prevent a definitive conclusion. The moderate AI probability (${aiProbability}%) suggests possible artificial elements or heavy post-processing.</p>
                            <ul style="margin: 15px 0; padding-left: 20px;">
                                <li>Some patterns consistent with AI generation</li>
                                <li>Possible post-processing or filters applied</li>
                                <li>Metadata inconsistencies detected</li>
                                <li>Compression patterns suggest multiple saves</li>
                            </ul>
                            <p><strong>Recommendation:</strong> Exercise caution with this image. Verify through additional sources and consider the context of use. For critical applications, seek additional verification.</p>
                        ` : `
                            <p><strong>üö® High Probability of Manipulation</strong></p>
                            <p>Multiple indicators suggest this image has been artificially generated or heavily manipulated. The high AI probability (${aiProbability}%) across multiple detection models raises significant concerns.</p>
                            <ul style="margin: 15px 0; padding-left: 20px;">
                                <li>Strong AI generation signatures detected</li>
                                <li>Unnatural patterns in pixel analysis</li>
                                <li>Missing or stripped metadata</li>
                                <li>Evidence of digital manipulation</li>
                            </ul>
                            <p><strong>Recommendation:</strong> Do not use this image for any purpose requiring authenticity. If you must use it, clearly label it as potentially artificial or manipulated.</p>
                        `}
                    </div>
                    ${tier === 'pro' ? `
                        <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid rgba(245, 158, 11, 0.2);">
                            <h4 style="color: #d97706; margin-bottom: 10px;">Pro Analysis Features Used:</h4>
                            <ul style="color: #4b5563; list-style: none; padding: 0;">
                                <li>‚úì 12 AI detection models (vs 5 in free)</li>
                                <li>‚úì Deepfake detection algorithms</li>
                                <li>‚úì Advanced manipulation detection</li>
                                <li>‚úì Detailed forensic analysis</li>
                                <li>‚úì Source attribution checking</li>
                            </ul>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        // Create analysis section helper
        function createAnalysisSection(config) {
            const section = document.createElement('div');
            section.className = 'analysis-section';
            section.id = config.id;
            
            const header = document.createElement('div');
            header.className = `analysis-header ${config.locked ? 'locked' : ''}`;
            header.onclick = () => toggleAnalysisSection(config.id);
            
            header.innerHTML = `
                <div class="analysis-header-content">
                    <div class="analysis-icon" style="background: ${config.locked ? '#e5e7eb' : `linear-gradient(135deg, ${config.iconColor}20, ${config.iconColor}30)`};">
                        ${config.icon}
                    </div>
                    <div class="analysis-title-group">
                        <h3 class="analysis-title">${config.title}</h3>
                        <p class="analysis-summary">${config.summary}</p>
                    </div>
                </div>
                <i class="fas fa-chevron-down expand-icon"></i>
                ${config.locked ? '<span style="background: linear-gradient(135deg, #f59e0b, #d97706); color: white; padding: 4px 12px; border-radius: 12px; font-size: 0.75rem; font-weight: 700; margin-left: 10px;">PRO ONLY</span>' : ''}
            `;
            
            const content = document.createElement('div');
            content.className = 'analysis-content';
            
            const body = document.createElement('div');
            body.className = 'analysis-body';
            body.innerHTML = config.content;
            
            content.appendChild(body);
            section.appendChild(header);
            section.appendChild(content);
            
            return section;
        }

        // Toggle analysis section
        function toggleAnalysisSection(sectionId) {
            const section = document.getElementById(sectionId);
            const header = section.querySelector('.analysis-header');
            const content = section.querySelector('.analysis-content');
            
            if (header.classList.contains('locked') && currentTier === 'free') {
                showNotification('Upgrade to Pro to access this analysis', 'info');
                return;
            }
            
            const isExpanded = section.classList.contains('expanded');
            
            if (isExpanded) {
                section.classList.remove('expanded');
                header.classList.remove('expanded');
                content.classList.remove('expanded');
            } else {
                section.classList.add('expanded');
                header.classList.add('expanded');
                content.classList.add('expanded');
            }
            
            trackImageAnalysisEvent('analysis_section_toggled', {
                section: sectionId,
                action: isExpanded ? 'collapsed' : 'expanded'
            });
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            trackImageAnalysisEvent('image_analysis_page_loaded', {
                referrer: document.referrer
            });
        });
    </script>
</body>
</html>pricingplan'" style="margin-top: 20px; background: linear-gradient(135deg, #f59e0b, #d97706); color: white; border: none; padding: 12px 30px; border-radius: 25px; font-weight: 700; cursor: pointer;">
                        Upgrade to Pro
                    </button>
                </div>
            `;
        }

        function generatePixelForensicsContent() {
            return `
                <div class="pixel-visualization">
                    <div class="heatmap-container">
                        <div style="color: white; text-align: center;">
                            <i class="fas fa-microscope" style="font-size: 3rem; margin-bottom: 10px;"></i>
                            <p>Error Level Analysis Visualization</p>
                        </div>
                        <div class="heatmap-legend">
                            <h5 style="margin-bottom: 10px;">Legend</h5>
                            <div style="display: flex; gap: 10px; font-size: 0.85rem;">
                                <span style="color: #10b981;">‚óè Low Error</span>
                                <span style="color: #f59e0b;">‚óè Medium</span>
                                <span style="color: #ef4444;">‚óè High Error</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="margin-top: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div style="background: rgba(16, 185, 129, 0.1); padding: 20px; border-radius: 12px;">
                        <h4 style="color: #059669; margin-bottom: 10px;">Compression Analysis</h4>
                        <p style="color: #4b5563;">Consistent JPEG compression detected. No evidence of multiple saves or quality degradation that would indicate manipulation.</p>
                    </div>
                    <div style="background: rgba(245, 158, 11, 0.1); padding: 20px; border-radius: 12px;">
                        <h4 style="color: #d97706; margin-bottom: 10px;">Noise Pattern Analysis</h4>
                        <p style="color: #4b5563;">Natural noise distribution found. Pattern consistency suggests authentic sensor noise rather than artificial generation.</p>
                    </div>
                </div>
            `;
        }

        function generateMetadataContent() {
            return `
                <div class="metadata-grid">
                    <div class="metadata-item">
                        <div class="metadata-label">Camera Make</div>
                        <div class="metadata-value">Not Available</div>
                    </div>
                    <div class="metadata-item">
                        <div class="metadata-label">Camera Model</div>
                        <div class="metadata-value">Not Available</div>
                    </div>
                    <div class="metadata-item">
                        <div class="metadata-label">Date Taken</div>
                        <div class="metadata-value">Not Available</div>
                    </div>
                    <div class="metadata-item">
                        <div class="metadata-label">GPS Location</div>
                        <div class="metadata-value">Not Available</div>
                    </div>
                    <div class="metadata-item">
                        <div class="metadata-label">Software</div>
                        <div class="metadata-value">Not Available</div>
                    </div>
                    <div class="metadata-item">
                        <div class="metadata-label">Color Space</div>
                        <div class="metadata-value">sRGB</div>
                    </div>
                </div>
                <div style="margin-top: 20px; padding: 20px; background: rgba(239, 68, 68, 0.1); border-radius: 12px;">
                    <h4 style="color: #dc2626; margin-bottom: 10px;">‚ö†Ô∏è Metadata Warning</h4>
                    <p style="color: #4b5563;">No EXIF metadata found. This could indicate: (1) The image was stripped of metadata for privacy, (2) It was generated by AI, or (3) It has been processed through social media or messaging apps that remove metadata.</p>
                </div>
            `;
        }

        function generatePatternContent(aiProbability) {
            return `
                <div style="text-align: center; padding: 40px 20px; color: #6b7280;">
                    <i class="fas fa-lock" style="font-size: 3rem; color: #9ca3af; margin-bottom: 20px;"></i>
                    <h4 style="color: #4b5563; margin-bottom: 10px;">This analysis is available in Pro</h4>
                    <p>Upgrade to access GAN fingerprint detection, diffusion model patterns, and advanced artifact analysis.</p>
                    <button onclick="window.location.href='/pricingplan'" style="margin-top: 20px; background: linear-gradient(135deg, #f59e0b, #d97706); color: white; border: none; padding: 12px 30px; border-radius: 25px; font-weight: 700; cursor: pointer;">
                        Upgrade to Pro
                    </button>
                </div>
            `;
        }

        function generateManipulationContent(manipulationScore) {
            return `
                <div style="text-align: center; padding: 40px 20px; color: #6b7280;">
                    <i class="fas fa-lock" style="font-size: 3rem; color: #9ca3af; margin-bottom: 20px;"></i>
                    <h4 style="color: #4b5563; margin-bottom: 10px;">This analysis is available in Pro</h4>
                    <p>Upgrade to access clone detection, splicing analysis, and advanced manipulation detection algorithms.</p>
                    <button onclick="window.location.href='/pricingplan'" style="margin-top: 20px; background: linear-gradient(135deg, #f59e0b, #d97706); color: white; border: none; padding: 12px 30px; border-radius: 25px; font-weight: 700; cursor: pointer;">
                        Upgrade to Pro
                    </button>
                </div>
            `;
        }

        function generateSourceContent() {
            return `
                <div style="text-align: center; padding: 40px 20px; color: #6b7280;">
                    <i class="fas fa-lock" style="font-size: 3rem; color: #9ca3af; margin-bottom: 20px;"></i>
                    <h4 style="color: #4b5563; margin-bottom: 10px;">This analysis is available in Pro</h4>
                    <p>Upgrade to access reverse image search, source verification, and copyright detection features.</p>
                    <button onclick="window.location.href='/pricingplan'" style="margin-top: 20px; background: linear-gradient(135deg, #f59e0b, #d97706); color: white; border: none; padding: 12px 30px; border-radius: 25px; font-weight: 700; cursor: pointer;">
                        Upgrade to Pro
                    </button>
                </div>
            `;
        }

        function generateTechnicalContent() {
            return `
                <div class="metadata-grid">
                    <div class="metadata-item">
                        <div class="metadata-label">Resolution</div>
                        <div class="metadata-value">1920x1080</div>
                    </div>
                    <div class="metadata-item">
                        <div class="metadata-label">Format</div>
                        <div class="metadata-value">JPEG</div>
                    </div>
                    <div class="metadata-item">
                        <div class="metadata-label">Color Depth</div>
                        <div class="metadata-value">24-bit</div>
                    </div>
                    <div class="metadata-item">
                        <div class="metadata-label">File Size</div>
                        <div class="metadata-value">2.3 MB</div>
                    </div>
                    <div class="metadata-item">
                        <div class="metadata-label">Aspect Ratio</div>
                        <div class="metadata-value">16:9</div>
                    </div>
                    <div class="metadata-item">
                        <div class="metadata-label">DPI</div>
                        <div class="metadata-value">72</div>
                    </div>
                </div>
            `;
        }

        function generateConfidenceContent(authenticityScore) {
            return `
                <div style="text-align: center; padding: 40px 20px; color: #6b7280;">
                    <i class="fas fa-lock" style="font-size: 3rem; color: #9ca3af; margin-bottom: 20px;"></i>
                    <h4 style="color: #4b5563; margin-bottom: 10px;">This analysis is available in Pro</h4>
                    <p>Upgrade to access detailed confidence metrics, uncertainty analysis, and model consensus reports.</p>
                    <button onclick="window.location.href='/
