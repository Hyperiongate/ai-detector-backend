{% extends "base.html" %}

{% block title %}Speech Fact-Checker - Facts & Fakes AI{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/speech/main.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/speech/components.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/speech/dark-mode.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/speech/responsive.css') }}">
{% endblock %}

{% block content %}
<!-- Controls Bar -->
<div class="controls-bar">
    <button class="control-btn" onclick="toggleDarkMode()" title="Toggle Dark Mode (D)">
        <i class="fas fa-moon" id="darkModeIcon"></i>
    </button>
    <button class="control-btn" onclick="toggleLivePanel()" title="Toggle Live Panel (L)">
        <i class="fas fa-chart-line"></i>
    </button>
    <button class="control-btn" onclick="toggleTimeline()" title="Toggle Timeline (T)">
        <i class="fas fa-clock"></i>
    </button>
    <button class="control-btn" onclick="showKeyboardShortcuts()" title="Keyboard Shortcuts (?)">
        <i class="fas fa-keyboard"></i>
    </button>
    <button class="control-btn" onclick="startTutorial()" title="Start Tutorial">
        <i class="fas fa-question-circle"></i>
    </button>
</div>

<!-- Live Fact-Check Panel -->
<div class="live-factcheck-panel" id="livePanel">
    <div class="live-panel-header">
        <div class="live-panel-title">
            <div class="live-indicator"></div>
            Live Fact-Checking
        </div>
        <button class="control-btn" onclick="toggleLivePanel()" style="padding: 5px;">
            <i class="fas fa-times"></i>
        </button>
    </div>
    <div class="live-claims-list" id="liveClaims">
        <p style="text-align: center; color: #6b7280; font-style: italic;">Claims will appear here as they're detected...</p>
    </div>
</div>

<!-- Main Content -->
<div class="container">
    <div class="header">
        <h1><i class="fas fa-microphone-alt"></i> Speech Fact-Checker</h1>
        <p>Real-time fact verification for speeches, presentations, and conversations</p>
        <p style="font-size: 0.95rem; opacity: 0.8;">Powered by AI • Cross-references 12+ verification methods • Export detailed reports</p>
    </div>

    <div class="tool-container">
        <!-- Language Selector -->
        <div class="language-selector">
            <label for="languageSelect">Language:</label>
            <select id="languageSelect" onchange="changeLanguage()">
                <option value="en-US">English (US)</option>
                <option value="en-GB">English (UK)</option>
                <option value="es-ES">Spanish</option>
                <option value="fr-FR">French</option>
                <option value="de-DE">German</option>
                <option value="it-IT">Italian</option>
                <option value="pt-BR">Portuguese</option>
                <option value="zh-CN">Chinese (Simplified)</option>
                <option value="ja-JP">Japanese</option>
                <option value="ko-KR">Korean</option>
            </select>
        </div>

        {% include 'partials/speech/mode-selection.html' %}
        {% include 'partials/speech/mode-banner.html' %}
        {% include 'partials/speech/instructions.html' %}
        {% include 'partials/speech/input-section.html' %}
        {% include 'partials/speech/info-sections.html' %}
        {% include 'partials/speech/results-section.html' %}
    </div>
</div>

<!-- Processing Overlay -->
<div class="processing-overlay" id="processingOverlay">
    <div class="processing-content">
        <div class="ai-animation"></div>
        <h3>AI Processing Your Speech...</h3>
        <p style="color: #6b7280; margin-bottom: 10px;">Running 12 verification algorithms</p>
        <div class="loading-spinner"></div>
    </div>
</div>

<!-- Keyboard Shortcuts Hint -->
<div class="keyboard-hint" id="keyboardHint">
    Press <kbd>?</kbd> for keyboard shortcuts
</div>

<!-- Tutorial Overlay -->
<div class="tutorial-overlay" id="tutorialOverlay">
    <div class="tutorial-spotlight" id="tutorialSpotlight"></div>
    <div class="tutorial-tooltip" id="tutorialTooltip">
        <h4 id="tutorialTitle">Welcome to Speech Fact-Checker!</h4>
        <p id="tutorialText">Let's take a quick tour of the features.</p>
        <div class="tutorial-nav">
            <button class="btn btn-secondary" onclick="skipTutorial()">Skip</button>
            <button class="btn btn-primary" onclick="nextTutorialStep()">Next</button>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/speech/main.js') }}"></script>
<script src="{{ url_for('static', filename='js/speech/speech-recognition.js') }}"></script>
<script src="{{ url_for('static', filename='js/speech/fact-checking.js') }}"></script>
<script src="{{ url_for('static', filename='js/speech/ui-controls.js') }}"></script>
<script src="{{ url_for('static', filename='js/speech/export.js') }}"></script>
{% endblock %}
