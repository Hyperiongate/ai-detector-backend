<!DOCTYPE html>
<html lang="en">  
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>NewsVerify Pro - News Verification Platform</title>
    
    <!-- Google Analytics 4 Integration -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9CLSNV2S8Q"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-9CLSNV2S8Q');
        
        // Custom Analytics Events for News Verification Page
        function trackNewsEvent(eventName, eventData = {}) {
            if (typeof gtag !== 'undefined') {
                gtag('event', eventName, {
                    event_category: 'News_Verification',
                    page_title: 'NewsVerify Pro - News Verification Platform',
                    ...eventData
                });
            }
        }
    </script>
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📰</text></svg>">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }

        /* Main Background Wrapper */
        .page-wrapper {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding-bottom: 50px;
        }

        /* Beta Banner */
        .beta-banner {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            padding: 12px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .beta-banner::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 3s infinite;
            transform: rotate(45deg);
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .beta-content {
            position: relative;
            z-index: 2;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            color: white;
            font-weight: 600;
            padding: 5px;
        }

        .beta-badge {
            background: rgba(255,255,255,0.2);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .beta-join-btn {
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 6px 16px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .beta-join-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            text-align: center;
            margin: 40px 0 30px 0;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        /* Navigation Bar */
        .nav-bar {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 15px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .nav-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 12px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-links a:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .nav-links a.active {
            background: rgba(255, 255, 255, 0.3);
            font-weight: 600;
        }

        /* Tool Container */
        .tool-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        /* Info Sections Grid */
        .info-sections-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        /* Dropdown Sections */
        .dropdown-section {
            border: 2px solid rgba(102, 126, 234, 0.15);
            border-radius: 12px;
            overflow: hidden;
            background: white;
            transition: all 0.3s ease;
        }

        .dropdown-section:hover {
            border-color: rgba(102, 126, 234, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
        }

        .dropdown-header {
            background: rgba(102, 126, 234, 0.05);
            padding: 15px 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.3s ease;
        }

        .dropdown-header:hover {
            background: rgba(102, 126, 234, 0.08);
        }

        .dropdown-header.open {
            background: rgba(102, 126, 234, 0.12);
            border-bottom: 2px solid rgba(102, 126, 234, 0.2);
        }

        .dropdown-header-content {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .dropdown-header-content i {
            font-size: 1.3rem;
            color: #667eea;
        }

        .dropdown-header-text {
            display: flex;
            flex-direction: column;
        }

        .dropdown-title {
            font-weight: 700;
            color: #4a5568;
            font-size: 1rem;
        }

        .dropdown-subtitle {
            font-size: 0.85rem;
            color: #6b7280;
        }

        .dropdown-icon {
            font-size: 1rem;
            color: #6b7280;
            transition: transform 0.3s ease;
        }

        .dropdown-header.open .dropdown-icon {
            transform: rotate(180deg);
            color: #667eea;
        }

        .dropdown-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }

        .dropdown-content.open {
            max-height: 1000px;
        }

        .dropdown-content-inner {
            padding: 25px;
            border-top: 1px solid rgba(102, 126, 234, 0.1);
        }

        /* Tools Grid */
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .tool-item {
            background: rgba(102, 126, 234, 0.05);
            padding: 15px 20px;
            border-radius: 12px;
            border-left: 4px solid #667eea;
            font-size: 0.95rem;
            font-weight: 600;
            color: #4a5568;
            transition: all 0.3s ease;
        }

        .tool-item:hover {
            background: rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
        }

        .tool-item i {
            margin-right: 8px;
            color: #667eea;
        }

        /* Progress Section */
        .progress-section {
            display: none;
            margin-bottom: 30px;
            background: linear-gradient(145deg, #f8fafc, #ffffff);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border: 2px solid rgba(102, 126, 234, 0.1);
            position: relative;
            overflow: hidden;
        }

        .progress-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #10b981, #764ba2, #667eea);
            background-size: 300% 100%;
            animation: rainbow-flow 4s ease-in-out infinite;
        }

        @keyframes rainbow-flow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .progress-title {
            font-weight: 700;
            color: #4a5568;
            margin-bottom: 25px;
            font-size: 1.3rem;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .progress-bar {
            background: #e2e8f0;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            border: 2px solid rgba(255, 255, 255, 0.8);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, 
                #ff6b6b 0%, 
                #f06595 14%, 
                #cc5de8 28%, 
                #845ef7 42%, 
                #5c7cfa 56%, 
                #339af0 70%, 
                #22b8cf 84%, 
                #20c997 100%);
            border-radius: 13px;
            width: 0%;
            transition: width 0.5s ease;
            position: relative;
            background-size: 200% 100%;
            animation: gradient-shift 3s ease-in-out infinite;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        @keyframes gradient-shift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .progress-status {
            text-align: center;
            color: #6b7280;
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .progress-spinner {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid transparent;
            border-top: 3px solid #667eea;
            border-right: 3px solid #10b981;
            border-bottom: 3px solid #764ba2;
            border-left: 3px solid #f59e0b;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Input Section */
        .input-section {
            margin-bottom: 30px;
        }

        .input-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
        }

        .input-tab {
            padding: 12px 24px;
            border: none;
            background: #f8fafc;
            color: #6b7280;
            font-weight: 600;
            cursor: pointer;
            border-radius: 10px 10px 0 0;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .input-tab:hover {
            background: #f1f5f9;
            color: #374151;
        }

        .input-tab.active {
            background: white;
            color: #667eea;
            border-bottom: 2px solid #667eea;
            transform: translateY(2px);
        }

        .input-content {
            display: none;
        }

        .input-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 700;
            color: #4a5568;
            font-size: 1rem;
        }

        .input-group input, .input-group textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: white;
            font-family: inherit;
        }

        .input-group input:focus, .input-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .input-group textarea {
            min-height: 120px;
            resize: vertical;
            line-height: 1.5;
        }

        /* Button Styles */
        .button-group {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            flex: 1;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #6b7280;
            color: white;
        }

        .btn-secondary:hover {
            background: #4b5563;
        }

        .btn-test {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }

        .btn-test:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3);
        }

        /* Results Section */
        .results {
            display: none;
            margin-top: 30px;
            animation: fadeInUp 0.5s ease;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Result Card styles */
        .result-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border: 2px solid rgba(102, 126, 234, 0.1);
            position: relative;
            overflow: hidden;
        }

        .result-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #10b981, #667eea, #764ba2);
        }

        .result-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            margin-bottom: 20px;
            color: #4a5568;
            font-weight: 700;
            font-size: 1.3rem;
        }

        .result-header i {
            color: #667eea;
            font-size: 1.4rem;
        }

        /* Results Navigation Bar */
        .results-nav-bar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .results-nav-bar button {
            padding: 8px 16px;
            border: 2px solid rgba(102, 126, 234, 0.2);
            background: white;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            color: #4a5568;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .results-nav-bar button:hover {
            background: rgba(102, 126, 234, 0.1);
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .results-nav-bar button.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-color: transparent;
        }

        /* Results Preview Cards */
        .results-preview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
            padding: 25px;
            background: linear-gradient(145deg, #f8fafc, #ffffff);
            border-radius: 20px;
            border: 2px solid rgba(102, 126, 234, 0.1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .preview-card {
            background: white;
            border-radius: 12px;
            padding: 30px 25px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            border: 2px solid transparent;
            min-height: 140px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .preview-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            transition: all 0.3s ease;
        }

        .preview-card.credibility {
            border-color: rgba(16, 185, 129, 0.2);
        }

        .preview-card.credibility::before {
            background: linear-gradient(90deg, #10b981, #059669);
        }

        .preview-card.bias {
            border-color: rgba(102, 126, 234, 0.2);
        }

        .preview-card.bias::before {
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .preview-card.claims {
            border-color: rgba(245, 158, 11, 0.2);
        }

        .preview-card.claims::before {
            background: linear-gradient(90deg, #f59e0b, #d97706);
        }

        .preview-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
        }

        .preview-card h3 {
            color: #1f2937;
            margin-bottom: 10px;
            font-size: 1.2rem;
            font-weight: 700;
            line-height: 1.3;
        }

        .preview-card p {
            color: #6b7280;
            font-size: 0.95rem;
            line-height: 1.4;
            margin: 0;
        }

        /* Compact Summary */
        .compact-summary {
            display: flex;
            align-items: center;
            gap: 30px;
            margin-bottom: 25px;
            padding: 25px;
            background: linear-gradient(145deg, #f8fafc, #ffffff);
            border-radius: 15px;
            border: 2px solid rgba(102, 126, 234, 0.1);
        }

        .score-circle {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            font-weight: 900;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            flex-shrink: 0;
            background: #e5e7eb;
        }

        .score-circle::before {
            content: '';
            position: absolute;
            width: 70px;
            height: 70px;
            background: white;
            border-radius: 50%;
            z-index: 1;
        }

        .score-text {
            position: relative;
            z-index: 2;
        }

        .summary-content {
            flex: 1;
        }

        .summary-content h3 {
            margin-bottom: 12px;
            font-size: 1.4rem;
        }

        .summary-dialogue {
            color: #6b7280;
            line-height: 1.6;
            font-size: 1.05rem;
        }

        /* Data Grid */
        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .data-item {
            background: #f8fafc;
            padding: 18px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid rgba(102, 126, 234, 0.1);
            transition: all 0.3s ease;
        }

        .data-item:hover {
            background: #f1f5f9;
            transform: translateY(-2px);
        }

        .data-value {
            font-size: 1.6rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 8px;
        }

        .data-label {
            font-size: 0.9rem;
            color: #6b7280;
            font-weight: 600;
        }

        /* Interactive Bias Spectrum */
        .interactive-bias-spectrum {
            margin: 30px 0;
            position: relative;
        }

        .bias-spectrum {
            background: linear-gradient(90deg, #ef4444 0%, #f59e0b 25%, #10b981 50%, #f59e0b 75%, #ef4444 100%);
            height: 40px;
            border-radius: 20px;
            position: relative;
            margin: 25px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            cursor: pointer;
        }

        .bias-indicator {
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 24px;
            height: 24px;
            background: white;
            border: 4px solid #374151;
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            z-index: 2;
            transition: all 0.5s ease;
        }

        .bias-labels {
            position: absolute;
            top: -25px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: #6b7280;
            font-weight: 600;
        }

        .bias-tooltip {
            position: absolute;
            bottom: -45px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 10px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 100;
        }

        .bias-tooltip.visible {
            opacity: 1;
        }

        /* Confidence Meters */
        .confidence-meter {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }

        .confidence-meter-label {
            font-weight: 600;
            color: #4a5568;
            min-width: 120px;
        }

        .confidence-meter-bar {
            flex: 1;
            height: 12px;
            background: #e2e8f0;
            border-radius: 6px;
            overflow: hidden;
            position: relative;
        }

        .confidence-meter-fill {
            height: 100%;
            border-radius: 6px;
            transition: width 1s ease;
            position: relative;
            overflow: hidden;
        }

        .confidence-high .confidence-meter-fill {
            background: linear-gradient(90deg, #10b981, #059669);
        }

        .confidence-meter-value {
            font-weight: 700;
            color: #667eea;
            min-width: 50px;
            text-align: right;
        }

        /* Evidence Explorer */
        .evidence-explorer {
            background: linear-gradient(145deg, #f8fafc, #ffffff);
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            border: 2px solid rgba(102, 126, 234, 0.1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .evidence-grid {
            display: grid;
            gap: 20px;
            margin-bottom: 30px;
        }

        .evidence-card {
            background: white;
            border: 2px solid rgba(102, 126, 234, 0.1);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .evidence-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        }

        .evidence-card-header {
            padding: 20px;
            background: rgba(102, 126, 234, 0.05);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .evidence-type {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            color: #4a5568;
            font-size: 1.1rem;
        }

        .evidence-confidence {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .confidence-high {
            background: rgba(16, 185, 129, 0.2);
            color: #059669;
        }

        .confidence-medium {
            background: rgba(245, 158, 11, 0.2);
            color: #d97706;
        }

        .evidence-preview {
            padding: 20px;
            color: #6b7280;
            font-size: 1rem;
            line-height: 1.6;
        }

        .evidence-details {
            display: none;
            padding: 0 20px 20px;
            border-top: 1px solid rgba(102, 126, 234, 0.1);
        }

        .evidence-details.visible {
            display: block;
        }

        .evidence-methodology {
            background: rgba(102, 126, 234, 0.05);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        /* Source Network */
        .source-network {
            background: rgba(102, 126, 234, 0.05);
            border-radius: 12px;
            padding: 25px;
            margin-top: 20px;
        }

        .network-nodes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .network-node {
            background: white;
            border: 2px solid #667eea;
            border-radius: 50%;
            padding: 20px;
            text-align: center;
            font-weight: 600;
            color: #4a5568;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .network-node:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
        }

        .network-node.primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        /* Export Options */
        .export-options {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .export-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3);
        }

        .export-btn.pdf {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
        }

        .export-btn.json {
            background: linear-gradient(135deg, #7c3aed, #6d28d9);
        }

        .export-btn.share {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
        }

        /* Methodology Section */
        .methodology-section {
            background: linear-gradient(145deg, #f8fafc, #ffffff);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid rgba(102, 126, 234, 0.1);
        }

        .methodology-header {
            font-weight: 700;
            color: #4a5568;
            margin-bottom: 15px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .methodology-content {
            color: #6b7280;
            line-height: 1.6;
        }

        .methodology-list {
            list-style: none;
            padding: 0;
            margin: 15px 0;
        }

        .methodology-list li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }

        .methodology-list li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: #10b981;
            font-weight: bold;
        }

        /* Infographic Container */
        .infographic-container {
            margin: 25px 0;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .infographic-title {
            font-weight: 700;
            color: #4a5568;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.3rem;
        }

        /* Analysis Breakdown Grid */
        .analysis-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .breakdown-item {
            text-align: center;
            padding: 20px;
            background: linear-gradient(145deg, #f8fafc, #ffffff);
            border-radius: 12px;
            border: 2px solid rgba(102, 126, 234, 0.1);
            transition: all 0.3s ease;
        }

        .breakdown-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        }

        .breakdown-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .breakdown-label {
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 5px;
        }

        .breakdown-value {
            font-size: 1.3rem;
            font-weight: 700;
            color: #667eea;
        }

        /* Claim Counter */
        .claim-counter {
            display: inline-block;
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 1.1rem;
            margin: 20px 0;
            animation: claimPulse 1s ease-in-out infinite;
        }

        @keyframes claimPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Upgrade Prompt */
        .upgrade-prompt {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px 35px;
            border-radius: 15px;
            text-align: center;
            margin-top: 25px;
        }

        .upgrade-prompt h3 {
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .upgrade-prompt .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
            font-size: 0.95rem;
        }

        .upgrade-prompt button {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 20px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .upgrade-prompt button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .modal-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            padding: 2rem;
            text-align: center;
            color: white;
        }

        .modal-header h2 {
            color: white;
            margin-bottom: 0.5rem;
            font-size: 1.8rem;
        }

        .modal-header p {
            color: rgba(255,255,255,0.8);
            font-size: 1rem;
        }

        .modal-body {
            padding: 2rem;
        }

        .modal-body .input-group {
            margin-bottom: 1rem;
        }

        .modal-body input {
            background: white;
            border: 2px solid #e2e8f0;
            color: #333;
            padding: 1rem;
            border-radius: 10px;
            width: 100%;
            font-size: 1rem;
        }

        .modal-footer {
            padding: 1.5rem 2rem 2rem;
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }

        .close {
            position: absolute;
            right: 1rem;
            top: 1rem;
            color: white;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .close:hover {
            background: rgba(255,255,255,0.2);
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 8px;
            z-index: 10000;
            max-width: 400px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            display: none;
            animation: slideIn 0.3s ease;
        }

        .notification.success {
            background: #10b981;
            color: white;
        }

        .notification.error {
            background: #ef4444;
            color: white;
        }

        .notification.info {
            background: #667eea;
            color: white;
        }

        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateX(100px);
            }
            to { 
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .tool-container {
                padding: 25px;
            }
            
            .info-sections-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .nav-links {
                flex-direction: column;
                gap: 10px;
            }
            
            .tools-grid {
                grid-template-columns: 1fr;
            }
            
            .compact-summary {
                flex-direction: column;
                text-align: center;
            }
            
            .data-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .score-circle {
                width: 80px;
                height: 80px;
                font-size: 1.3rem;
            }
            
            .results-nav-bar {
                flex-direction: column;
                gap: 5px;
            }

            .results-nav-bar button {
                width: 100%;
            }
            
            .export-options {
                flex-direction: column;
            }

            .export-btn {
                width: 100%;
            }
            
            .analysis-breakdown {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="page-wrapper">
        <!-- Beta Banner -->
        <div class="beta-banner">
            <div class="beta-content">
                <span class="beta-badge">BETA</span>
                <span>🚀 The world's ONLY platform built specifically for news verification - Join our beta!</span>
                <button class="beta-join-btn" onclick="openBetaModal()">Join Beta</button>
            </div>
        </div>

        <div class="container">
            <div class="header">
                <h1><i class="fas fa-shield-alt"></i> NewsVerify Pro</h1>
                <p>Professional News Verification Engine • Advanced political bias detection, source credibility scoring, and cross-reference verification</p>
                <p style="font-size: 0.95rem; opacity: 0.8;">The World's First AI Platform Built Specifically for News Verification & Media Analysis</p>
            </div>

            <nav class="nav-bar">
                <div class="nav-links">
                    <a href="/"><i class="fas fa-home"></i> Home</a>
                    <a href="/news" class="active"><i class="fas fa-newspaper"></i> News Verification</a>
                    <a href="/unified"><i class="fas fa-search"></i> Content Authenticity</a>
                    <a href="/imageanalysis"><i class="fas fa-image"></i> AI Image Analysis</a>
                    <a href="/missionstatement"><i class="fas fa-bullseye"></i> Our Mission</a>
                    <a href="/pricingplan"><i class="fas fa-tags"></i> Pricing</a>
                </div>
            </nav>

            <div class="tool-container">
                <!-- Collapsible Information Sections -->
                <div class="info-sections-grid">
                    <div class="dropdown-section" id="methodologies-section">
                        <div class="dropdown-header" onclick="toggleDropdown(this)">
                            <div class="dropdown-header-content">
                                <i class="fas fa-cogs"></i>
                                <div class="dropdown-header-text">
                                    <span class="dropdown-title">12 Analysis Methods</span>
                                    <span class="dropdown-subtitle">Advanced verification systems</span>
                                </div>
                            </div>
                            <i class="fas fa-chevron-down dropdown-icon"></i>
                        </div>
                        <div class="dropdown-content">
                            <div class="dropdown-content-inner">
                                <div class="tools-grid">
                                    <div class="tool-item">
                                        <i class="fas fa-balance-scale"></i> Real-Time Political Bias Detection
                                    </div>
                                    <div class="tool-item">
                                        <i class="fas fa-check-circle"></i> Multi-Source Fact Verification
                                    </div>
                                    <div class="tool-item">
                                        <i class="fas fa-database"></i> 500+ News Source Credibility Database
                                    </div>
                                    <div class="tool-item">
                                        <i class="fas fa-search"></i> Cross-Source Verification Network
                                    </div>
                                    <div class="tool-item">
                                        <i class="fas fa-shield-alt"></i> Misinformation Pattern Recognition
                                    </div>
                                    <div class="tool-item">
                                        <i class="fas fa-network-wired"></i> Multi-Outlet Story Comparison
                                    </div>
                                    <div class="tool-item">
                                        <i class="fas fa-chart-line"></i> Journalism Quality Scoring
                                    </div>
                                    <div class="tool-item">
                                        <i class="fas fa-clock"></i> Timeline & Event Verification
                                    </div>
                                    <div class="tool-item">
                                        <i class="fas fa-fingerprint"></i> Editorial vs News Classification
                                    </div>
                                    <div class="tool-item">
                                        <i class="fas fa-brain"></i> Advanced AI Content Analysis
                                    </div>
                                    <div class="tool-item">
                                        <i class="fas fa-globe"></i> Real-Time Breaking News Verification
                                    </div>
                                    <div class="tool-item">
                                        <i class="fas fa-comments"></i> Social Media Echo Analysis
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="dropdown-section" id="how-to-use-section">
                        <div class="dropdown-header" onclick="toggleDropdown(this)">
                            <div class="dropdown-header-content">
                                <i class="fas fa-info-circle"></i>
                                <div class="dropdown-header-text">
                                    <span class="dropdown-title">How to Use</span>
                                    <span class="dropdown-subtitle">3 simple steps</span>
                                </div>
                            </div>
                            <i class="fas fa-chevron-down dropdown-icon"></i>
                        </div>
                        <div class="dropdown-content">
                            <div class="dropdown-content-inner">
                                <div style="display: grid; gap: 15px;">
                                    <div style="display: flex; align-items: start; gap: 15px;">
                                        <div style="background: #667eea; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">1</div>
                                        <div>
                                            <strong style="color: #4c1d95;">Choose Your Input Method:</strong><br>
                                            <span style="color: #6b7280;">Either paste news text directly or enter a news article URL</span>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: start; gap: 15px;">
                                        <div style="background: #667eea; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">2</div>
                                        <div>
                                            <strong style="color: #4c1d95;">Select Analysis Type:</strong><br>
                                            <span style="color: #6b7280;">FREE: Basic credibility check | PRO: Comprehensive verification with bias analysis</span>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: start; gap: 15px;">
                                        <div style="background: #667eea; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">3</div>
                                        <div>
                                            <strong style="color: #4c1d95;">Review Your Results:</strong><br>
                                            <span style="color: #6b7280;">Explore bias spectrum, source verification, and claim analysis</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="dropdown-section" id="comparison-section">
                        <div class="dropdown-header" onclick="toggleDropdown(this)">
                            <div class="dropdown-header-content">
                                <i class="fas fa-crown"></i>
                                <div class="dropdown-header-text">
                                    <span class="dropdown-title">Free vs Pro</span>
                                    <span class="dropdown-subtitle">Compare features</span>
                                </div>
                            </div>
                            <i class="fas fa-chevron-down dropdown-icon"></i>
                        </div>
                        <div class="dropdown-content">
                            <div class="dropdown-content-inner">
                                <div style="display: grid; gap: 20px;">
                                    <div style="background: #f8f9fa; padding: 25px; border-radius: 12px; border: 2px solid #e5e7eb;">
                                        <h4 style="color: #6b7280; margin-bottom: 15px; font-size: 1.2rem;"><i class="fas fa-gift"></i> FREE Version</h4>
                                        <ul style="list-style: none; padding: 0; margin: 0;">
                                            <li style="margin-bottom: 10px; color: #4b5563;">✓ Basic credibility score</li>
                                            <li style="margin-bottom: 10px; color: #4b5563;">✓ Source verification (100+ sources)</li>
                                            <li style="margin-bottom: 10px; color: #4b5563;">✓ Simple bias indicator</li>
                                            <li style="margin-bottom: 10px; color: #4b5563;">✓ 5 analyses per day</li>
                                            <li style="margin-bottom: 10px; color: #9ca3af;">✗ No downloadable reports</li>
                                            <li style="margin-bottom: 10px; color: #9ca3af;">✗ Limited evidence details</li>
                                        </ul>
                                    </div>
                                    <div style="background: linear-gradient(135deg, #667eea, #764ba2); padding: 25px; border-radius: 12px; border: 2px solid #667eea;">
                                        <h4 style="color: white; margin-bottom: 15px; font-size: 1.2rem;"><i class="fas fa-crown"></i> PRO Version</h4>
                                        <ul style="list-style: none; padding: 0; margin: 0;">
                                            <li style="margin-bottom: 10px; color: white;">✓ Advanced credibility analysis</li>
                                            <li style="margin-bottom: 10px; color: white;">✓ 500+ source database</li>
                                            <li style="margin-bottom: 10px; color: white;">✓ Interactive bias spectrum</li>
                                            <li style="margin-bottom: 10px; color: white;">✓ Unlimited analyses</li>
                                            <li style="margin-bottom: 10px; color: white;">✓ Downloadable PDF reports</li>
                                            <li style="margin-bottom: 10px; color: white;">✓ Full claim verification</li>
                                            <li style="margin-bottom: 10px; color: white;">✓ All 12 analysis methodologies</li>
                                            <li style="margin-bottom: 10px; color: white;">✓ Priority customer support</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="dropdown-section" id="usage-section">
                        <div class="dropdown-header" onclick="toggleDropdown(this)">
                            <div class="dropdown-header-content">
                                <i class="fas fa-chart-bar"></i>
                                <div class="dropdown-header-text">
                                    <span class="dropdown-title">Daily Usage</span>
                                    <span class="dropdown-subtitle">Track your analyses</span>
                                </div>
                            </div>
                            <i class="fas fa-chevron-down dropdown-icon"></i>
                        </div>
                        <div class="dropdown-content">
                            <div class="dropdown-content-inner">
                                <div id="usageCounter" style="text-align: center; padding: 20px;">
                                    <p style="color: #6b7280; font-size: 1.1rem;">Daily analyses available</p>
                                    <div style="font-size: 2.5rem; font-weight: 700; color: #667eea; margin: 10px 0;">Unlimited</div>
                                    <p style="color: #10b981; font-weight: 600;">Development Mode Active</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Progress Section -->
                <div class="progress-section" id="progressSection">
                    <div class="progress-title">
                        <i class="fas fa-cogs fa-spin" style="color: #667eea;"></i>
                        News Verification in Progress...
                    </div>
                    
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressBar">0%</div>
                    </div>
                    
                    <div class="progress-status">
                        <div class="progress-spinner"></div>
                        <span id="progressStatus">Initializing advanced verification systems...</span>
                    </div>
                </div>

                <!-- Input Section -->
                <div class="input-section">
                    <div class="input-tabs">
                        <button class="input-tab active" onclick="switchInputType('text')">📝 News Text Analysis</button>
                        <button class="input-tab" onclick="switchInputType('url')">🔗 URL Verification</button>
                    </div>
                    
                    <div class="input-content active" id="textInput">
                        <div class="input-group">
                            <label for="news-text"><i class="fas fa-file-text"></i> News Article or Social Media Content</label>
                            <textarea id="news-text" placeholder="Paste news article, social media post, or any news content for comprehensive verification and bias analysis..."></textarea>
                        </div>
                    </div>
                    
                    <div class="input-content" id="urlInput">
                        <div class="input-group">
                            <label for="news-url"><i class="fas fa-link"></i> News Article URL</label>
                            <input type="url" id="news-url" placeholder="https://example.com/news-article-for-verification">
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-primary" onclick="runAnalysis('free')">
                        <i class="fas fa-play"></i> Start Free Analysis
                    </button>
                    <button class="btn btn-primary" onclick="runAnalysis('pro')" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                        <i class="fas fa-crown"></i> Start Pro Analysis
                    </button>
                    <button class="btn btn-test" onclick="loadTestData()">
                        <i class="fas fa-flask"></i> Load Sample News
                    </button>
                    <button class="btn btn-secondary" onclick="resetForm()">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>

                <div class="results" id="results">
                    <!-- Results will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Beta Modal -->
    <div id="betaModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeBetaModal()">&times;</span>
            <div class="modal-header">
                <h2>🚀 Join Our Beta Program</h2>
                <p>Get exclusive early access to the world's first news verification platform!</p>
            </div>
            <div class="modal-body">
                <form id="betaSignupForm">
                    <div class="input-group">
                        <input type="email" id="betaEmail" placeholder="Enter your email address" required>
                    </div>
                    <div class="input-group">
                        <input type="text" id="betaName" placeholder="Your name (optional)">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeBetaModal()">Cancel</button>
                <button class="btn btn-primary" onclick="submitBetaSignup()">Join Beta Program</button>
            </div>
        </div>
    </div>

    <script>
        // Toggle dropdown
        function toggleDropdown(header) {
            const content = header.nextElementSibling;
            header.classList.toggle('open');
            content.classList.toggle('open');
        }

        // Show notification
        function showNotification(message, type = 'info') {
            let notification = document.getElementById('notification');
            if (!notification) {
                notification = document.createElement('div');
                notification.id = 'notification';
                notification.className = 'notification';
                document.body.appendChild(notification);
            }
            
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // Switch input type
        function switchInputType(type) {
            const tabs = document.querySelectorAll('.input-tab');
            const contents = document.querySelectorAll('.input-content');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));
            
            if (type === 'text') {
                tabs[0].classList.add('active');
                contents[0].classList.add('active');
            } else {
                tabs[1].classList.add('active');
                contents[1].classList.add('active');
            }
        }

        // Load test data
        function loadTestData() {
            const testArticle = `Breaking News: Major Tech Company Announces Revolutionary AI Breakthrough

Tech giant XYZ Corp announced today that they have developed a new artificial intelligence system capable of understanding and generating human-like text with unprecedented accuracy. The announcement was made during their annual developer conference.

CEO Jane Smith stated, "This represents a significant leap forward in AI technology. Our new system can understand context and nuance in ways that were previously impossible."

Industry experts are divided on the implications. Dr. John Doe from MIT's AI Lab expressed both excitement and caution: "While this is indeed impressive, we need to carefully consider the ethical implications of such powerful AI systems."

The company claims their new AI has achieved a 95% accuracy rate in understanding complex human instructions, surpassing all previous benchmarks. However, some competitors have questioned these claims, suggesting that independent verification is needed.

The technology is expected to be integrated into the company's product line by Q4 2024, with initial applications in customer service and content creation.`;

            const activeTab = document.querySelector('.input-tab.active');
            if (activeTab.textContent.includes('Text')) {
                document.getElementById('news-text').value = testArticle;
            } else {
                document.getElementById('news-url').value = 'https://example.com/ai-breakthrough-news';
            }
            
            showNotification('Sample news article loaded!', 'success');
        }

        // Reset form
        function resetForm() {
            document.getElementById('news-text').value = '';
            document.getElementById('news-url').value = '';
            document.getElementById('results').style.display = 'none';
            document.getElementById('progressSection').style.display = 'none';
            showNotification('Form reset successfully', 'info');
        }

        // Run analysis with API call
        async function runAnalysis(tier) {
            const activeTab = document.querySelector('.input-tab.active');
            let input = '';
            
            if (activeTab.textContent.includes('Text')) {
                input = document.getElementById('news-text').value;
            } else {
                input = document.getElementById('news-url').value;
            }
            
            if (!input.trim()) {
                showNotification('Please enter news text or URL to analyze', 'error');
                return;
            }
            
            // Track analysis event
            if (typeof trackNewsEvent !== 'undefined') {
                trackNewsEvent('analysis_started', {
                    analysis_type: tier,
                    input_type: activeTab.textContent.includes('Text') ? 'text' : 'url'
                });
            }
            
            // Show progress section
            document.getElementById('progressSection').style.display = 'block';
            document.getElementById('results').style.display = 'none';
            
            // Simulate progress animation
            simulateProgress();
            
            try {
                const response = await fetch('/api/analyze-unified', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        content: input,
                        type: 'news'
                    })
                });

                if (!response.ok) {
                    throw new Error('Analysis failed');
                }

                const data = await response.json();
                
                // Hide progress section after a delay to complete animation
                setTimeout(() => {
                    document.getElementById('progressSection').style.display = 'none';
                    showResultsFromAPI(tier, data);
                }, 2000);
                
            } catch (error) {
                console.error('Analysis error:', error);
                document.getElementById('progressSection').style.display = 'none';
                showNotification('Analysis failed. Please try again.', 'error');
            }
        }

        // Simulate progress animation
        function simulateProgress() {
            const progressBar = document.getElementById('progressBar');
            const progressStatus = document.getElementById('progressStatus');
            
            let progress = 0;
            const statusMessages = [
                'Extracting article content...',
                'Analyzing political bias patterns...',
                'Verifying sources and citations...',
                'Cross-checking claims with database...',
                'Generating comprehensive report...'
            ];
            
            const interval = setInterval(() => {
                progress += 5;
                progressBar.style.width = progress + '%';
                progressBar.textContent = progress + '%';
                
                // Update status message
                const messageIndex = Math.floor(progress / 20);
                if (messageIndex < statusMessages.length) {
                    progressStatus.textContent = statusMessages[messageIndex];
                }
                
                if (progress >= 100) {
                    clearInterval(interval);
                }
            }, 40);
        }

        // Show results from API data
        function showResultsFromAPI(tier, apiData) {
            const results = document.getElementById('results');
            results.style.display = 'block';
            
            // Track completion
            if (typeof trackNewsEvent !== 'undefined') {
                trackNewsEvent('analysis_completed', {
                    analysis_type: tier
                });
            }
            
            // Extract data from API response
            const newsAnalysis = apiData.news_analysis || {};
            
            // Generate results HTML based on tier
            if (tier === 'pro') {
                results.innerHTML = generateProResultsFromAPI(newsAnalysis);
            } else {
                results.innerHTML = generateFreeResultsFromAPI(newsAnalysis);
            }
            
            // Initialize any interactive elements in results
            initializeResultsInteractions();
            
            showNotification(`${tier === 'pro' ? 'Pro' : 'Free'} analysis completed!`, 'success');
        }

        // Generate Pro results from API data
        function generateProResultsFromAPI(newsData) {
            const credibilityScore = newsData.credibility_score || 75;
            const biasData = newsData.political_bias || {};
            const factChecks = newsData.fact_check_results || [];
            const biasScore = biasData.bias_score || 0;
            const biasLabel = biasData.bias_label || 'center';
            const objectivityScore = biasData.objectivity_score || 75;
            
            // Calculate bias position (convert -10 to +10 scale to 0-100%)
            const biasPosition = ((biasScore + 10) / 20) * 100;
            
            return `
                <div class="results-nav-bar">
                    <button class="active" onclick="scrollToSection('overview')">Overview</button>
                    <button onclick="scrollToSection('credibility')">Credibility</button>
                    <button onclick="scrollToSection('bias')">Bias Analysis</button>
                    <button onclick="scrollToSection('claims')">Claims (${factChecks.length})</button>
                    <button onclick="scrollToSection('sources')">Sources</button>
                </div>

                <div class="results-preview">
                    <div class="preview-card credibility" onclick="scrollToSection('credibility')">
                        <h3>Credibility Score: ${credibilityScore}%</h3>
                        <p>Based on comprehensive analysis</p>
                    </div>
                    <div class="preview-card bias" onclick="scrollToSection('bias')">
                        <h3>Bias: ${biasLabel.charAt(0).toUpperCase() + biasLabel.slice(1).replace('-', ' ')}</h3>
                        <p>Objectivity: ${objectivityScore}%</p>
                    </div>
                    <div class="preview-card claims" onclick="scrollToSection('claims')">
                        <h3>${factChecks.length} Claims Found</h3>
                        <p>Ready for verification</p>
                    </div>
                </div>

                <div id="overview" class="result-card">
                    <div class="result-header">
                        <i class="fas fa-chart-pie"></i>
                        <span>Analysis Overview</span>
                    </div>
                    <div class="compact-summary">
                        <div class="score-circle" style="--score-deg: ${credibilityScore * 3.6}deg; background: conic-gradient(from 0deg, #10b981 0deg, #10b981 ${credibilityScore * 3.6}deg, #e5e7eb ${credibilityScore * 3.6}deg, #e5e7eb 360deg);">
                            <span class="score-text">${credibilityScore}%</span>
                        </div>
                        <div class="summary-content">
                            <h3>${credibilityScore >= 80 ? 'Highly Credible' : credibilityScore >= 60 ? 'Generally Credible' : 'Questionable Credibility'}</h3>
                            <p class="summary-dialogue">${getCredibilitySummary(credibilityScore, biasLabel)}</p>
                        </div>
                    </div>
                </div>

                <div id="credibility" class="result-card">
                    <div class="result-header">
                        <i class="fas fa-shield-alt"></i>
                        <span>Credibility Analysis</span>
                    </div>
                    <div class="data-grid">
                        <div class="data-item">
                            <div class="data-value">${credibilityScore}%</div>
                            <div class="data-label">Overall Score</div>
                        </div>
                        <div class="data-item">
                            <div class="data-value">${newsData.source_analysis?.credibility_score || 70}%</div>
                            <div class="data-label">Source Rating</div>
                        </div>
                        <div class="data-item">
                            <div class="data-value">${newsData.bias_indicators?.factual_claims || 0}</div>
                            <div class="data-label">Factual Claims</div>
                        </div>
                        <div class="data-item">
                            <div class="data-value">${newsData.source_analysis?.source_type || 'News Outlet'}</div>
                            <div class="data-label">Source Type</div>
                        </div>
                    </div>
                </div>

                <div id="bias" class="result-card">
                    <div class="result-header">
                        <i class="fas fa-balance-scale"></i>
                        <span>Political Bias Analysis</span>
                    </div>
                    <div class="interactive-bias-spectrum">
                        <div class="bias-labels">
                            <span>Far Left</span>
                            <span>Left</span>
                            <span>Center</span>
                            <span>Right</span>
                            <span>Far Right</span>
                        </div>
                        <div class="bias-spectrum" onclick="showBiasDetails(event)">
                            <div class="bias-indicator" style="left: ${biasPosition}%"></div>
                        </div>
                        <div class="bias-tooltip">${biasLabel.charAt(0).toUpperCase() + biasLabel.slice(1).replace('-', ' ')} Bias Detected</div>
                    </div>
                    <div class="confidence-meter">
                        <span class="confidence-meter-label">Confidence:</span>
                        <div class="confidence-meter-bar">
                            <div class="confidence-meter-fill confidence-high" style="width: ${biasData.confidence || 75}%"></div>
                        </div>
                        <span class="confidence-meter-value">${biasData.confidence || 75}%</span>
                    </div>
                </div>

                <div id="claims" class="result-card">
                    <div class="result-header">
                        <i class="fas fa-check-double"></i>
                        <span>Claim Verification</span>
                    </div>
                    <div class="claim-counter">${factChecks.length} Claims Analyzed</div>
                    <div class="evidence-explorer">
                        <div class="evidence-grid">
                            ${factChecks.map((claim, index) => `
                                <div class="evidence-card" onclick="toggleEvidence(this)">
                                    <div class="evidence-card-header">
                                        <div class="evidence-type">
                                            <i class="fas fa-${claim.status === 'Verified' ? 'check-circle' : 'exclamation-triangle'}" style="color: ${claim.status === 'Verified' ? '#10b981' : '#f59e0b'}"></i>
                                            <span>${claim.status || 'Pending Verification'}</span>
                                        </div>
                                        <span class="evidence-confidence confidence-${claim.confidence > 70 ? 'high' : 'medium'}">${claim.confidence > 70 ? 'HIGH' : 'MEDIUM'}</span>
                                    </div>
                                    <div class="evidence-preview">
                                        "${claim.claim || 'Claim text'}"
                                    </div>
                                    <div class="evidence-details">
                                        <div class="evidence-methodology">
                                            ${claim.sources ? claim.sources.join(', ') : 'Verification pending'}
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>

                <div id="sources" class="result-card">
                    <div class="result-header">
                        <i class="fas fa-link"></i>
                        <span>Source Analysis</span>
                    </div>
                    <div class="source-network">
                        <p style="color: #6b7280; margin-bottom: 20px;">Source credibility and verification network</p>
                        <div class="network-nodes">
                            <div class="network-node primary">${newsData.source_analysis?.domain || 'Primary Source'}</div>
                            ${newsData.cross_references?.map(ref => `
                                <div class="network-node">${ref.source}</div>
                            `).join('') || '<div class="network-node">Cross-check pending</div>'}
                        </div>
                    </div>
                </div>

                <div class="export-options">
                    <button class="export-btn pdf" onclick="exportReport('pdf')">
                        <i class="fas fa-file-pdf"></i> Download PDF
                    </button>
                    <button class="export-btn json" onclick="exportReport('json')">
                        <i class="fas fa-code"></i> Export JSON
                    </button>
                    <button class="export-btn share" onclick="shareReport()">
                        <i class="fas fa-share"></i> Share Report
                    </button>
                </div>
            `;
        }

        // Generate Free results from API data with enhanced content
        function generateFreeResultsFromAPI(newsData) {
            const credibilityScore = newsData.credibility_score || 0;
            const biasIndicators = newsData.bias_indicators || {};
            
            return `
                <div class="results-preview">
                    <div class="preview-card credibility">
                        <h3>Basic Credibility Check</h3>
                        <p>Limited analysis complete</p>
                    </div>
                    <div class="preview-card bias">
                        <h3>Bias Indicator</h3>
                        <p>Basic bias detected</p>
                    </div>
                    <div class="preview-card claims">
                        <h3>Limited Claims Check</h3>
                        <p>Upgrade for full analysis</p>
                    </div>
                </div>

                <div class="result-card">
                    <div class="result-header">
                        <i class="fas fa-info-circle"></i>
                        <span>Free Analysis Results</span>
                    </div>
                    <div class="compact-summary">
                        <div class="score-circle" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                            <span class="score-text" style="color: white;">Free</span>
                        </div>
                        <div class="summary-content">
                            <h3>Basic Analysis Complete</h3>
                            <p class="summary-dialogue">Our free analysis provides a preliminary assessment of this news content. While we've detected some patterns that may indicate credibility issues, a comprehensive verification requires our Pro analysis tools.</p>
                        </div>
                    </div>
                </div>

                <!-- Methodology Section -->
                <div class="result-card">
                    <div class="methodology-section">
                        <div class="methodology-header">
                            <i class="fas fa-microscope"></i>
                            <span>Analysis Methodology</span>
                        </div>
                        <div class="methodology-content">
                            <p>Our free tier analysis uses basic pattern recognition to evaluate news content. Here's what we examined:</p>
                            <ul class="methodology-list">
                                <li>Text structure and formatting analysis</li>
                                <li>Basic keyword pattern detection</li>
                                <li>Simple credibility indicators</li>
                                <li>Surface-level bias markers</li>
                                <li>General source verification (limited database)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Findings Section -->
                <div class="result-card">
                    <div class="result-header">
                        <i class="fas fa-search"></i>
                        <span>Key Findings</span>
                    </div>
                    <div style="color: #6b7280; line-height: 1.6; margin-bottom: 20px;">
                        <p><strong>What we found:</strong> Based on our basic analysis, this content shows ${biasIndicators.political_bias === 'center' ? 'relatively balanced' : 'some ' + biasIndicators.political_bias + '-leaning'} characteristics. We detected ${biasIndicators.factual_claims || 'several'} factual claims that would benefit from verification.</p>
                        
                        <p style="margin-top: 15px;"><strong>What this means:</strong> While our free analysis can identify basic patterns, determining the full credibility and bias of news content requires deeper analysis including:</p>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            <li>Cross-referencing with our 500+ source database</li>
                            <li>Advanced linguistic pattern analysis</li>
                            <li>Comprehensive fact-checking capabilities</li>
                            <li>Real-time bias spectrum positioning</li>
                            <li>Detailed source credibility scoring</li>
                        </ul>
                    </div>
                </div>

                <!-- Visual Infographic -->
                <div class="result-card">
                    <div class="infographic-container">
                        <div class="infographic-title">
                            <i class="fas fa-chart-bar"></i> Analysis Breakdown
                        </div>
                        <div class="analysis-breakdown">
                            <div class="breakdown-item">
                                <div class="breakdown-icon">📊</div>
                                <div class="breakdown-label">Analysis Depth</div>
                                <div class="breakdown-value">25%</div>
                            </div>
                            <div class="breakdown-item">
                                <div class="breakdown-icon">🔍</div>
                                <div class="breakdown-label">Sources Checked</div>
                                <div class="breakdown-value">Basic</div>
                            </div>
                            <div class="breakdown-item">
                                <div class="breakdown-icon">⚖️</div>
                                <div class="breakdown-label">Bias Detection</div>
                                <div class="breakdown-value">Surface</div>
                            </div>
                            <div class="breakdown-item">
                                <div class="breakdown-icon">✓</div>
                                <div class="breakdown-label">Fact Checking</div>
                                <div class="breakdown-value">Limited</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chart Visualization -->
                <div class="result-card">
                    <div class="infographic-container">
                        <div class="infographic-title">
                            <i class="fas fa-chart-pie"></i> Free vs Pro Comparison
                        </div>
                        <canvas id="comparisonChart" width="400" height="200"></canvas>
                    </div>
                </div>

                <div class="upgrade-prompt">
                    <h3>Unlock Full Analysis</h3>
                    <div class="features-grid">
                        <div>✓ Interactive bias spectrum</div>
                        <div>✓ 500+ source verification</div>
                        <div>✓ Complete claim checking</div>
                        <div>✓ Downloadable reports</div>
                    </div>
                    <button onclick="window.location.href='/pricingplan'">Upgrade to Pro</button>
                </div>
            `;
        }

        // Helper function to generate credibility summary
        function getCredibilitySummary(score, bias) {
            if (score >= 80) {
                return "This article demonstrates excellent journalistic standards with proper source attribution and balanced reporting. The content appears well-researched and factually accurate.";
            } else if (score >= 60) {
                return `This article shows ${bias !== 'center' ? 'some ' + bias + ' bias but' : ''} generally good journalistic practices. Some claims may benefit from additional verification, but overall the reporting appears credible.`;
            } else {
                return "This article raises several credibility concerns. Multiple claims lack proper attribution and the reporting shows significant bias. Readers should verify information from additional sources.";
            }
        }

        // Initialize results interactions
        function initializeResultsInteractions() {
            // Add any event listeners for interactive elements
            const biasSpectrum = document.querySelector('.bias-spectrum');
            if (biasSpectrum) {
                biasSpectrum.addEventListener('mousemove', showBiasTooltip);
                biasSpectrum.addEventListener('mouseleave', hideBiasTooltip);
            }
            
            // Initialize chart if it exists
            const chartCanvas = document.getElementById('comparisonChart');
            if (chartCanvas) {
                const ctx = chartCanvas.getContext('2d');
                new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: ['Credibility Check', 'Bias Analysis', 'Source Verification', 'Fact Checking', 'Report Detail'],
                        datasets: [{
                            label: 'Free Analysis',
                            data: [25, 20, 15, 10, 5],
                            borderColor: '#6b7280',
                            backgroundColor: 'rgba(107, 114, 128, 0.1)'
                        }, {
                            label: 'Pro Analysis',
                            data: [100, 100, 100, 100, 100],
                            borderColor: '#667eea',
                            backgroundColor: 'rgba(102, 126, 234, 0.1)'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 100
                            }
                        }
                    }
                });
            }
        }

        // Scroll to section
        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth', block: 'start' });
                
                // Update active button
                document.querySelectorAll('.results-nav-bar button').forEach(btn => {
                    btn.classList.remove('active');
                });
                event.target.classList.add('active');
            }
        }

        // Toggle evidence details
        function toggleEvidence(card) {
            card.classList.toggle('expanded');
            const details = card.querySelector('.evidence-details');
            if (details) {
                details.classList.toggle('visible');
            }
        }

        // Show bias details
        function showBiasDetails(event) {
            const spectrum = event.currentTarget;
            const rect = spectrum.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const percentage = (x / rect.width) * 100;
            
            const indicator = spectrum.querySelector('.bias-indicator');
            indicator.style.left = percentage + '%';
            
            const tooltip = spectrum.querySelector('.bias-tooltip');
            let biasText = 'Center';
            if (percentage < 20) biasText = 'Far Left';
            else if (percentage < 40) biasText = 'Left';
            else if (percentage < 60) biasText = 'Center';
            else if (percentage < 80) biasText = 'Right';
            else biasText = 'Far Right';
            
            tooltip.textContent = biasText + ' Bias';
            tooltip.style.left = percentage + '%';
        }

        // Show/hide bias tooltip
        function showBiasTooltip(event) {
            const tooltip = event.currentTarget.querySelector('.bias-tooltip');
            if (tooltip) {
                tooltip.classList.add('visible');
            }
        }

        function hideBiasTooltip(event) {
            const tooltip = event.currentTarget.querySelector('.bias-tooltip');
            if (tooltip) {
                tooltip.classList.remove('visible');
            }
        }

        // Export report
        function exportReport(format) {
            showNotification(`Exporting report as ${format.toUpperCase()}...`, 'info');
            // In real implementation, this would generate and download the report
            setTimeout(() => {
                showNotification(`Report exported successfully!`, 'success');
            }, 2000);
        }

        // Share report
        function shareReport() {
            if (navigator.share) {
                navigator.share({
                    title: 'News Verification Report',
                    text: 'Check out this news verification analysis',
                    url: window.location.href
                });
            } else {
                // Fallback for browsers that don't support Web Share API
                showNotification('Link copied to clipboard!', 'success');
            }
        }

        // Beta modal functions
        function openBetaModal() {
            document.getElementById('betaModal').style.display = 'block';
        }

        function closeBetaModal() {
            document.getElementById('betaModal').style.display = 'none';
        }

        function submitBetaSignup() {
            const email = document.getElementById('betaEmail').value;
            const name = document.getElementById('betaName').value;
            
            if (!email) {
                showNotification('Please enter your email address', 'error');
                return;
            }
            
            // Track beta signup
            if (typeof trackNewsEvent !== 'undefined') {
                trackNewsEvent('beta_signup', {
                    email: email,
                    name: name
                });
            }
            
            showNotification('Thank you for joining our beta program!', 'success');
            closeBetaModal();
        }

        // Close modals when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }
    </script>
</body>
</html>
